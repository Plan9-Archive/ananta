ITEST(1)               General Commands Manual              ITEST(1)

NAME
       itest, itreplay - run tests and replay results

SYNOPSIS
       itest  [  -eo  ] [ -c cflag ] [ -r count ] [ -v vlevel ] [ -C
       configfile ] [ -R recordroot ] [ testdir ...  ]

       itreplay [ -eo ] [ -v verbosity ] [ recorddir ...  ]

DESCRIPTION
       Itest runs a sequence of tests, optionally recording all  the
       results in a directory tree. The itreplay command replays the
       results of one or more recorded tests.  Some options are com‐
       mon to both commands:

       -e     Display the standard error produced by the tests.

       -o     Display the standard output produced by the tests.

       -v vlevel
              Set  the  verbosity  level to vlevel (0-9). The higher
              the value, the more detail is displayed;  the  default
              level is 3.

       The  tests run by itest are specified as one or more directo‐
       ries either on the command line or in a  configuration  file.
       Options:

       -c cflag
              Set  the  value  in  /dev/jit  (usually  0 or 1; 0 for
              interpreted mode, 1 for compiled mode) to cflag

       -r count
              Run the set of tests count times; a value of  0  means
              repeat indefinitely.

       -v vlevel
              Set  the  verbosity  level to vlevel (0-9). The higher
              the value, the more detail is displayed;  the  default
              level is 3.

       -C cfile
              Use  the  configuration  file  cfile.  The file should
              contain a list of test directories, one per line.

       -R recroot
              Store the test results in a tree  rooted  at  recroot.
              Record  directories  are named as integers starting at
              1. Each test run creates a new directory numbered  one
              greater than the highest existing directory.

       The  test results to be replayed by itreplay are specified on
       the command line as one or more record directories.

   TEST FORMAT
       A test directory must contain either a t.dis file or  a  t.sh
       file,  depending  on  whether  the test is written as a Limbo
       program or as a  sh(1)  script.  Limbo  programs  should  use
       itslib(2);  sh  scripts should use sh-test(2).  A test direc‐
       tory should also contain a README file (which is displayed by
       itest  if  the  verbosity  level  is greater than 8), and any
       other files required for the test.

       Tests are run with their working directory set to  their  own
       test directory.

   RECORD DIRECTORY FORMAT
       Each record directory contains a number of files:

       msgs   All the messages generated by the test.

       stderr Standard error from the test.

       stdout Standard output from the test.

       summary
              a  one-line file containing the start time in seconds,
              elapsed time in ms, cflag and the  name  of  the  test
              directory.

SOURCE
       /appl/cmd/itest.b
       /appl/cmd/itreplay.b

SEE ALSO
       itslib(2), sh-test(2)

                                                            ITEST(1)
